<!doctype html>
<html lang="th">
<head>
<link rel="icon" type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='32' fill='%231e2147'/%3E%3Ccircle cx='32' cy='32' r='26' fill='%23ffffff'/%3E%3Cg stroke='%231e2147' stroke-width='4' stroke-linecap='round'%3E%3Cline x1='32' y1='32' x2='32' y2='18'/%3E%3Cline x1='32' y1='32' x2='44' y2='32'/%3E%3C/g%3E%3C/svg%3E">
<meta name="theme-color" content="#1e2147">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>countdown to something</title>
  <style>
    :root{
      --card-bg: rgba(255,255,255,.12);
      --glass: rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", "Noto Sans", sans-serif;
      color:#0f172a;
      background: radial-gradient(1200px 800px at 10% 10%, #fce7f3 0, transparent 60%),
                  radial-gradient(1000px 700px at 90% 20%, #e0f2fe 0, transparent 55%),
                  linear-gradient(135deg,#f8fafc 0,#e2e8f0 100%);
    }
    .wrap{
      width:min(920px, 92vw);
      padding: clamp(16px, 3vw, 28px);
    }
    .title{
      text-align:center;
      font-weight:800;
      line-height:1.1;
      font-size: clamp(22px, 4vw, 40px);
      letter-spacing:.3px;
      margin:0 0 .6rem;
    }
    .subtitle{
      text-align:center;
      margin:0 0 1.2rem;
      color:#334155;
      font-size: clamp(14px, 2.2vw, 18px);
    }
    .card{
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(2,6,23,.08);
      border-radius: 20px;
      padding: clamp(16px, 3.5vw, 28px);
      box-shadow: 0 10px 30px rgba(2,6,23,.06);
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: clamp(10px, 2.5vw, 18px);
    }
    .box{
      background: var(--glass);
      border: 1px solid rgba(2,6,23,.06);
      border-radius: 18px;
      padding: clamp(14px, 2.5vw, 20px);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .num{
      font-weight:900;
      font-variant-numeric: tabular-nums;
      font-size: clamp(34px, 8vw, 64px);
      line-height:1;
    }
    .label{
      margin-top:.35rem;
      font-size: clamp(12px, 2vw, 14px);
      color:#475569;
      letter-spacing:.4px;
    }
    .footer{
      margin-top: clamp(14px, 2.5vw, 18px);
      text-align:center;
      color:#334155;
      font-size: clamp(13px, 2vw, 15px);
    }
    .chip{
      display:inline-block;
      padding:.4rem .7rem;
      border-radius:999px;
      border:1px solid rgba(2,6,23,.08);
      background:rgba(255,255,255,.6);
      margin-top:.4rem;
    }
    .hit{
      display:none;
      margin-top:12px;
      text-align:center;
      font-weight:800;
      font-size: clamp(18px, 3vw, 26px);
      color:#065f46;
    }
    @media(max-width:540px){
      .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    #target-date, .footer { display: none; }

    .toggle-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 12px 24px;
      background: #920606;
      color: #ffffff;
      font-weight: 700;
      font-size: 16px;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
      transition: transform 0.1s ease, background 0.2s ease, box-shadow 0.2s ease;
    } /* ‚úÖ ‡∏õ‡∏¥‡∏î .toggle-btn ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö */

    /* === popup shown when countdown hits 0 === */
    #revealOverlay{
      display:none;
      position:fixed; inset:0;
      background:rgba(0,0,0,.85);
      z-index:9999;
      justify-content:center; align-items:center;
      padding:16px;
    }
    #revealBox{
      position:relative;
      background:#111; color:#fff;
      border:2px solid #ff70a6;
      box-shadow:0 0 25px rgba(255,0,0,.8);
      border-radius:16px;
      padding:16px;
      max-width:min(920px, 92vw);
    }
    #revealGrid{
      display:grid; gap:10px;
      grid-template-columns: repeat(auto-fit, minmax(160px,1fr));
    }
    #revealGrid img{
      width:100%; height:220px; object-fit:cover;
      border-radius:12px; border:1px solid rgba(255,255,255,.1);
    }
    #revealClose{
      position:absolute; top:-14px; right:-14px;
      background:#ff70a6; border:none; border-radius:50%;
      color:#fff; width:34px; height:34px; font-size:18px; cursor:pointer;
      box-shadow:0 0 12px rgba(255,112,166,.8);
    }
  </style>
</head>
<body>
  <main class="wrap">
    <h1 class="title">‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span id="target-label">24</span></h1>
    <p class="subtitle">24 ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏Ñ‡∏£‡∏ã‡∏±‡∏Å‡∏Ñ‡∏ô (‡πÑ‡∏≠‡∏≠‡πâ‡∏ß‡∏°)</p>

    <section class="card">
      <div class="grid" role="timer" aria-live="polite">
        <div class="box"><div id="days" class="num">0</div><div class="label">‡∏ß‡∏±‡∏ô</div></div>
        <div class="box"><div id="hours" class="num">0</div><div class="label">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div></div>
        <div class="box"><div id="minutes" class="num">0</div><div class="label">‡∏ô‡∏≤‡∏ó‡∏µ</div></div>
        <div class="box"><div id="seconds" class="num">0</div><div class="label">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div></div>
      </div>
      <div id="hit" class="hit"></div>
      <div class="footer">
        ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: <span id="target-date" class="chip">‚Äî</span>
      </div>
    </section>
  </main>
  <button id="toggle-target" class="toggle-btn" type="button">
    ‡∏£‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤
  </button>

  <script>
    // ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠
    const TH_MONTHS = ["‡∏°.‡∏Ñ.","‡∏Å.‡∏û.","‡∏°‡∏µ.‡∏Ñ.","‡πÄ‡∏°.‡∏¢.","‡∏û.‡∏Ñ.","‡∏°‡∏¥.‡∏¢.","‡∏Å.‡∏Ñ.","‡∏™.‡∏Ñ.","‡∏Å.‡∏¢.","‡∏ï.‡∏Ñ.","‡∏û.‡∏¢.","‡∏ò.‡∏Ñ."];

    function getNext24th() {
      const now = new Date();
      let y = now.getFullYear();
      let m = now.getMonth(); // 0-11
      let target = new Date(y, m, 24, 0, 0, 0, 0);
      if (now >= target) {
        if (m === 11) { y += 1; m = 0; }
        else { m += 1; }
        target = new Date(y, m, 24, 0, 0, 0, 0);
      }
      return target;
    }

    function applyQueryOverrides(date) {
      const params = new URLSearchParams(location.search);
      const h = params.get("hour");
      const min = params.get("min");
      const sec = params.get("sec");
      if (h !== null)  date.setHours(Number(h) || 0);
      if (min !== null)date.setMinutes(Number(min) || 0);
      if (sec !== null)date.setSeconds(Number(sec) || 0);
      date.setMilliseconds(0);
      return date;
    }

    const target = applyQueryOverrides(getNext24th());
    const daysEl = document.getElementById("days");
    const hoursEl = document.getElementById("hours");
    const minutesEl = document.getElementById("minutes");
    const secondsEl = document.getElementById("seconds");
    const targetDateEl = document.getElementById("target-date");
    const hitEl = document.getElementById("hit");

    // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏ß‡∏¢‡πÜ
    (function showTarget(){
      const d = target.getDate();
      const m = TH_MONTHS[target.getMonth()];
      const y = target.getFullYear() + 543; // ‡∏û.‡∏®.
      const hh = target.getHours().toString().padStart(2,"0");
      const mm = target.getMinutes().toString().padStart(2,"0");
      targetDateEl.textContent = `${d} ${m} ${y} ‡πÄ‡∏ß‡∏•‡∏≤ ${hh}:${mm} ‡∏ô.`;
    })();

    /* ====== CONFIG: ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÇ‡∏ä‡∏ß‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î ====== */
    const REVEAL_IMAGES = [
      "images/pic1.jpg",
      "images/pic2.jpg",
      "images/pic3.jpg"
    ];

    function showReveal(){
      const overlay = document.getElementById('revealOverlay');
      const grid    = document.getElementById('revealGrid');
      const closeBtn= document.getElementById('revealClose');
      if(!overlay || !grid) return;

      grid.innerHTML = '';
      REVEAL_IMAGES.forEach(src=>{
        const im = new Image();
        im.loading = 'lazy';
        im.src = src;
        grid.appendChild(im);
      });

      overlay.style.display = 'flex';
      document.body.style.overflow = 'hidden';

      function hide(){
        overlay.style.display = 'none';
        document.body.style.overflow = '';
      }
      closeBtn.onclick = hide;
      overlay.addEventListener('click', (e)=>{ if(e.target === overlay) hide(); });
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && overlay.style.display === 'flex') hide();
      }, { once:true });
    }

    function update() {
      const now = new Date();
      let diff = target - now; // ms
      if (diff <= 0) {
        daysEl.textContent = "0";
        hoursEl.textContent = "0";
        minutesEl.textContent = "0";
        secondsEl.textContent = "0";
        hitEl.style.display = "block";
        clearInterval(timer);

        // ‚úÖ ‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î
        showReveal();
        return;
      }
      const sec = Math.floor(diff / 1000);
      const d = Math.floor(sec / 86400);
      const h = Math.floor((sec % 86400) / 3600);
      const m = Math.floor((sec % 3600) / 60);
      const s = Math.floor(sec % 60);

      daysEl.textContent = d.toString();
      hoursEl.textContent = h.toString().padStart(2, "0");
      minutesEl.textContent = m.toString().padStart(2, "0");
      secondsEl.textContent = s.toString().padStart(2, "0");
    }

    update();
    const timer = setInterval(update, 1000);
  </script>

  <!-- popup shown when countdown finishes -->
  <div id="revealOverlay">
    <div id="revealBox" role="dialog" aria-modal="true">
      <button id="revealClose" aria-label="‡∏õ‡∏¥‡∏î">√ó</button>
      <h2 style="margin:0 0 10px 0;">üéâ ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î! üéâ</h2>
      <div id="revealGrid"></div>
    </div>
  </div>
</body>
</html>

